<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <title>Sumedha Dii</title>
    <style>
        .spinner {
            height: 100px;
            width: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            animation: rotate 5s linear infinite;
        }

        .spinner img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .word {
            margin-bottom: 10px;
        }

        .f-24 {
            font-size: 2.4rem;
        }

        .thisispara {
            font-family: 'Satisfy', cursive;
        }
    </style>
    <link rel="stylesheet" href="src/output.css">
    <link rel="shortcut icon" href="favicon.PNG" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Schoolbell&family=Satisfy&display=swap"
        rel="stylesheet">
</head>

<body class="h-screen bg-slate-700 p-3">
    <div class="preloader fixed top-0 left-0 h-screen w-screen bg-slate-600 flex items-center justify-center">
        <div class="spinner">
            <img src="favicon2.png" alt="">
        </div>
    </div>

    <audio src="assets/piano.mp3" id="pianoAudio" loop="true" autoplay="true"></audio>
    <section
        class="w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center text-yellow-300"
        id="cont">
        <button class="bg-gradient-to-br from-pink-600 via-red-500 to-orange-500 px-5 py-3 rounded-md"
            id="start-anim">Shuru
            Karo</button>
        <p class="mb-4 thisispara splitit f-24" id="para-line"></p>
    </section>




    <!-- Swiper JS -->
    <script src="assets/jQuery.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.39/dist/lenis.min.js"></script>
    <script src="assets/gsap.min.js"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script>
        const lenis = new Lenis();
        function raf(time) {
            lenis.raf(time)
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
    </script>

    <script>
        $(document).ready(function () {
            $('body').removeClass('overflow-hidden');
            $('.preloader').fadeOut(800);
            var pianoAudio = $('#pianoAudio');
            $('#pianoAudio').get(0).play();
        });
    </script>

    <script>
        let colorContrast = {
            node1: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-pink-600 via-red-500 to-orange-500', clr: 'text-white' },
            node2: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-500', clr: 'text-white' },
            node3: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-green-500 via-teal-500 to-cyan-500', clr: 'text-white' },
            node4: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-yellow-400 via-yellow-500 to-yellow-600', clr: 'text-black' },
            node5: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-red-400 via-red-500 to-red-600', clr: 'text-white' },
            node6: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500', clr: 'text-white' },
            node7: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500', clr: 'text-white' },
            node8: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-gray-500 via-gray-600 to-gray-700', clr: 'text-white' },
            node9: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-teal-400 via-teal-500 to-teal-600', clr: 'text-white' },
            node10: { bg: 'w-full h-full border-4 border-white rounded-lg p-8 font-sans text-center text-lg flex items-center justify-center bg-gradient-to-br from-purple-400 via-purple-500 to-purple-600', clr: 'text-white' },
        };

        let arr_sent = [
            "Dii, is safar mein aapki muskurahat rang laye, pyaar ka saathi banke. ðŸ˜Š",
            "Aapke liye, har kadam pe pyaar bhara ho, taqat se bhi zyada. ðŸ’ª",
            "Dii, shaadi ki din mein, pyaar se bhara ho har pal. ðŸ’•",
            "Shaadi ki taal mein, ek pyaara sa taara bano aap. ðŸŒŸ",
            "Jo rishta banega, woh rahega taqat se bhara, aur pyaar se bhi gehra. ðŸ’˜",
            "Dii, is prem kahani mein khilte raho pyaar ke phool, dil se bhara. ðŸŒ¹",
            "Dil ko chu jane wale palon ka samay aaya hai, Dii, aapki shadi ka. ðŸŽ‰",
            "Dii, is prem kahani mein odh lo pyaar bhari chaadar, aur gungunate raho. ðŸŽ¶",
            "aur ant mai ye kehna hai",
            "One love, one heart, one destiny. ðŸ’–"
        ];

        const text = new SplitType('.splitit', { type: 'words' });

        class Animations {
            static anim01() {
                gsap.timeline().from('.word', {
                    x: -10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim02() {
                gsap.timeline().from('.word', {
                    x: 10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim03() {
                gsap.timeline().from('.word', {
                    x: -10,
                    y: -10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim04() {
                gsap.timeline().from('.word', {
                    x: 10,
                    y: 10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim05() {
                gsap.timeline().from('.word', {
                    y: -10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim06() {
                gsap.timeline().from('.word', {
                    y: 10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim07() {
                gsap.timeline().from('.word', {
                    x: 10,
                    y: -10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }

            static anim08() {
                gsap.timeline().from('.word', {
                    x: -10,
                    y: 10,
                    opacity: 0,
                    duration: 0.3,
                    stagger: 0.3
                });
            }
        }


        // Global variables
        let sentenceIndex = 0; // Keep track of the current sentence index

        // Function to get the sentence based on the current sentenceIndex
        function getSequentialSentence() {
            if (sentenceIndex < arr_sent.length) {
                return arr_sent[sentenceIndex];
            } else {
                return "All sentences have been iterated.";
            }
        }

        // Function to apply a random shuffle of colorContrast to the element #cont
        function applyRandomColorContrast() {
            const elementId = 'cont';
            const randomNode = colorContrast['node' + (Math.floor(Math.random() * 10) + 1)];

            // Apply the background and text color classes
            $(`#${elementId}`).attr('class', randomNode.bg + ' ' + randomNode.clr);
        }

        // Function to apply a random animation from the Animations class
        function applyRandomAnimation() {
            const animationMethods = [
                'anim01', 'anim02', 'anim03', 'anim04', 'anim05', 'anim06', 'anim07', 'anim08'
            ];

            const randomAnimation = animationMethods[Math.floor(Math.random() * animationMethods.length)];
            Animations[randomAnimation]();
        }

        // Function to split a sentence using SplitType and apply GSAP animation
        function splitSentenceAndAnimate(sentence) {
            // Insert the sentence into the #para-line element
            $('#para-line').html('<div id="text-split-container">' + sentence.split(' ').map(word => `<div class="word">${word}</div>`).join(' ') + '</div>');

            // Apply a GSAP timeline for the animation
            const timeline = gsap.timeline();

            // Apply a random shuffle of colorContrast
            applyRandomColorContrast();

            // Apply a random animation
            applyRandomAnimation();

            // Select all the words inside the SplitType container
            const textSplit = new SplitType("#text-split-container", { types: 'words', wordsClass: 'word' });

            // Add an onComplete callback to the timeline
            timeline.eventCallback('onComplete', function () {
                // Increment the sentence index
                sentenceIndex++;

                // Check if all sentences are iterated
                if (allSentencesIterated()) {
                    createLinkButton();
                } else {
                    // Delay the next sentence change by 1 second
                    setTimeout(generateSequentialContentAndCheck, 8000);
                }
            });
        }

        // Function to check if all sentences are iterated
        function allSentencesIterated() {
            return sentenceIndex >= arr_sent.length;
        }

        // Function to create a link button with Tailwind CSS classes
        function createLinkButton() {
            const linkButton = $('<a>', {
                href: 'last.html', // Set the link href as needed
                text: 'Next', // Set button text as needed
                class: 'absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded mb-5'

            });

            // Append the link button to the #para-line element
            $('#para-line').append(linkButton);
        }

        // Function to generate sequential content and check if all sentences are iterated
        function generateSequentialContentAndCheck() {
            // Check if all sentences are iterated
            if (allSentencesIterated()) {
                createLinkButton();
                return; // Stop further execution if all sentences are iterated
            }

            // Get the sentence sequentially
            const sequentialSentence = getSequentialSentence();

            // Split the sentence using SplitType and apply GSAP animation
            splitSentenceAndAnimate(sequentialSentence);
        }


        $('#start-anim').click(function () {
            $(this).fadeOut(200);
            generateSequentialContentAndCheck();
        })

    </script>
</body>

</html>